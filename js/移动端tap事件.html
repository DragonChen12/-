<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<title>Document</title>
	<style>
		.div {
			width: 100px;
			height: 100px;
			overflow: scroll;
			word-break: break-all;
		}
		.aaa {
			width: 100px;
			height: 100px;
		}
	</style>
</head>
<body>
	<div class='div'>111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111<span></span></div>
	<div class="aaa"></div>
</body>
<script>
	var itcast={
		tap:function(dom,callback){
			var startTime,startX,startY;
			dom.addEventListener('touchstart',function(e){
				//判断是否只有一根手指进行操作
				if(e.targetTouches.length > 1){
					return;
				}
				//记录手指开始触摸的时间
				startTime=Date.now();
				startX=e.targetTouches[0].clientX;
				startY=e.targetTouches[0].clientY;
			})
			div.addEventListener('touchend',function(e){
				if(e.changedTouches.length>1){
					return;
				}
				//判断时间差异 150ms
				if(Date.now()-startTime > 150){//长按操作
					return;
				}
				var endX=e.changedTouches[0].clientX;
				var endY=e.changedTouches[0].clientY;
				//这里暂且将距离差异定为6
				if(Math.abs(endX-startX)<6&&Math.abs(endY-startY)<6) {
					console.log('这就是移动端的单击事件--tap事件');
					callback && callback(e);//传入事件源参数
				}
			})
		}
	}
	var div = document.querySelector('.div');
	itcast.tap(div,function(){

	})
</script>
</html>